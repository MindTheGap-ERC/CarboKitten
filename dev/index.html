<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Introduction · CarboKitten</title><meta name="title" content="Introduction · CarboKitten"/><meta property="og:title" content="Introduction · CarboKitten"/><meta property="twitter:title" content="Introduction · CarboKitten"/><meta name="description" content="Documentation for CarboKitten."/><meta property="og:description" content="Documentation for CarboKitten."/><meta property="twitter:description" content="Documentation for CarboKitten."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>CarboKitten</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Introduction</a><ul class="internal"><li><a class="tocitem" href="#About"><span>About</span></a></li><li><a class="tocitem" href="#Julia-Quickstarter"><span>Julia Quickstarter</span></a></li><li><a class="tocitem" href="#Entangled"><span>Entangled</span></a></li><li><a class="tocitem" href="#Project-structure"><span>Project structure</span></a></li><li><a class="tocitem" href="#Authors"><span>Authors</span></a></li><li><a class="tocitem" href="#Copyright"><span>Copyright</span></a></li><li><a class="tocitem" href="#License"><span>License</span></a></li><li><a class="tocitem" href="#Funding-information"><span>Funding information</span></a></li><li><a class="tocitem" href="#Contents"><span>Contents</span></a></li></ul></li><li><a class="tocitem" href="bosscher-1992/">Bosscher and Schlager 1992</a></li><li><span class="tocitem">CarboCAT</span><ul><li><a class="tocitem" href="carbocat/">Summary</a></li><li><a class="tocitem" href="carbocat-ca/">Cellular Automaton</a></li><li><a class="tocitem" href="ca-with-production/">Model with CA and Production</a></li><li><a class="tocitem" href="carbocat-transport/">Sediment Transport</a></li></ul></li><li><span class="tocitem">Algorithms</span><ul><li><a class="tocitem" href="unitful/">Unitful</a></li><li><a class="tocitem" href="boxes/">Boxes</a></li><li><a class="tocitem" href="sediment-buffer/">Sediment Buffers</a></li><li><a class="tocitem" href="stencils/">Stencils</a></li><li><a class="tocitem" href="utility/">Utility</a></li></ul></li><li><a class="tocitem" href="references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Introduction</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Introduction</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MindTheGap-ERC/CarboKitten.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MindTheGap-ERC/CarboKitten.jl/blob/main/docs/transpiled/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="CarboKitten.jl:-Modeling-Carbonate-Platforms-in-Julia"><a class="docs-heading-anchor" href="#CarboKitten.jl:-Modeling-Carbonate-Platforms-in-Julia">CarboKitten.jl: Modeling Carbonate Platforms in Julia</a><a id="CarboKitten.jl:-Modeling-Carbonate-Platforms-in-Julia-1"></a><a class="docs-heading-anchor-permalink" href="#CarboKitten.jl:-Modeling-Carbonate-Platforms-in-Julia" title="Permalink"></a></h1><p><a href="https://entangled.github.io/"><img src="https://img.shields.io/badge/entangled-Use%20the%20source!-%2300aeff" alt="Entangled badge"/></a></p><h2 id="About"><a class="docs-heading-anchor" href="#About">About</a><a id="About-1"></a><a class="docs-heading-anchor-permalink" href="#About" title="Permalink"></a></h2><p>CarboKitten is a clone of Peter Burgess&#39; CarboCAT, a model for growing carbonate platforms.</p><p><img src="fig/b13-capsosc-crosssection.png" alt="Sample output stratigraphy"/></p><h2 id="Julia-Quickstarter"><a class="docs-heading-anchor" href="#Julia-Quickstarter">Julia Quickstarter</a><a id="Julia-Quickstarter-1"></a><a class="docs-heading-anchor-permalink" href="#Julia-Quickstarter" title="Permalink"></a></h2><p>This code is written in <a href="https://julia-lang.org/">Julia</a>. You may want to check out the following references:</p><ul><li><a href="https://docs.julialang.org/en/v1/">Julia Documentation</a></li><li><a href="https://www.matecdev.com/posts/julia-tutorial-science-engineering.html">Tutorial on Julia for Science and Engineering</a></li></ul><p>There are several ways to work with Julia that may be a bit different from what you&#39;re used to, if that is Matlab, Python or R.</p><h3 id="Installing-Julia"><a class="docs-heading-anchor" href="#Installing-Julia">Installing Julia</a><a id="Installing-Julia-1"></a><a class="docs-heading-anchor-permalink" href="#Installing-Julia" title="Permalink"></a></h3><p>The best way to install Julia is to use <code>juliaup</code> at <a href="https://github.com/JuliaLang/juliaup">github.com/JuliaLang/juliaup</a>.</p><h3 id="REPL"><a class="docs-heading-anchor" href="#REPL">REPL</a><a id="REPL-1"></a><a class="docs-heading-anchor-permalink" href="#REPL" title="Permalink"></a></h3><p>The most basic way to work in Julia, is to start the REPL (Read Eval Print Loop).</p><pre><code class="language-shell hljs">$ julia
               _
   _       _ _(_)_     |  Documentation: https://docs.julialang.org
  (_)     | (_) (_)    |
   _ _   _| |_  __ _   |  Type &quot;?&quot; for help, &quot;]?&quot; for Pkg help.
  | | | | | | |/ _` |  |
  | | |_| | | | (_| |  |  Version 1.9.3 (2023-08-24)
 _/ |\__&#39;_|_|_|\__&#39;_|  |  Official https://julialang.org/ release
|__/                   |

julia&gt; </code></pre><p>From here you may use CarboKitten <code>using CarboKitten</code> and run any of the code inside. To work with CarboKitten efficiently, you may want to load <code>Revise</code>. Revise auto-detects changes to loaded code and makes it easy to rerun.</p><p>Additionally you should learn how to work with Julia packages. If you want to experiment with things, try to create a new environment in an empty folder and add CarboKitten as a <code>dev</code> dependency:</p><pre><code class="nohighlight hljs">pkg&gt; dev &lt;path to CarboKitten&gt;</code></pre><h3 id="VS-Code"><a class="docs-heading-anchor" href="#VS-Code">VS Code</a><a id="VS-Code-1"></a><a class="docs-heading-anchor-permalink" href="#VS-Code" title="Permalink"></a></h3><p>VSCode has very good support for working with Julia. Install the official Julia plugin and you should be good to go. Explore options by pressing <code>Ctrl+Shift+P</code> and type Julia to see what you can do. For example: start a REPL, run current script etc.</p><h3 id="Jupyter"><a class="docs-heading-anchor" href="#Jupyter">Jupyter</a><a id="Jupyter-1"></a><a class="docs-heading-anchor-permalink" href="#Jupyter" title="Permalink"></a></h3><p>You can run Julia code from Jupyter if you install the Julia kernel. Press <code>]</code> in the REPL to get into Pkg-mode, the prompt will change</p><pre><code class="language-shell hljs">(CarboKitten) pkg&gt;</code></pre><p>You may install the <code>IJulia</code> kernel with <code>add IJulia</code>.</p><h3 id="Pluto"><a class="docs-heading-anchor" href="#Pluto">Pluto</a><a id="Pluto-1"></a><a class="docs-heading-anchor-permalink" href="#Pluto" title="Permalink"></a></h3><p>An alternative notebook interface is called <code>Pluto</code>.</p><ul><li>Pluto is <strong>reactive</strong>: changes to code cells automatically update downstream dependencies.</li><li>Pluto notebooks are written to regular Julia files and can be run independent from Pluto.</li><li>The user interface of Pluto is slightly less mature than Jupyter</li></ul><p>In Pkg-mode say <code>add Pluto</code>.</p><pre><code class="language-shell hljs">julia&gt; using Pluto

julia&gt; Pluto.run()
[ Info: Loading...
┌ Info: 
└ Opening http://localhost:1234/?secret=xyzxyzzy in your default browser... ~ have fun!
┌ Info: 
│ Press Ctrl+C in this terminal to stop Pluto
└ </code></pre><h3 id="Plotting"><a class="docs-heading-anchor" href="#Plotting">Plotting</a><a id="Plotting-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting" title="Permalink"></a></h3><p>The most used library to do plotting in Julia is called <code>Plots</code>. However, this library comes with a fair share of problems: there are a number of back-ends for which the generated plots may look slightly different. Here &quot;back-end&quot; means some plotting library written in a different language than Julia.</p><p>A nicer plotting library that also happens to be a bit more versatile is <code>Makie</code>. This has three back-ends that are <code>CairoMakie</code>, <code>GLMakie</code> and <code>WGLMakie</code>. These are all written in Julia, but they focus on different kinds of results. <code>CairoMakie</code> is usually slow but results in publication quality vector graphics: <code>SVG</code> or <code>PDF</code>. <code>GLMakie</code> is very fast, renders on your graphics card, but only produces raster images, say <code>PNG</code>. Then <code>WGLMakie</code> does a similar thing, but through the web-browser.</p><h2 id="Entangled"><a class="docs-heading-anchor" href="#Entangled">Entangled</a><a id="Entangled-1"></a><a class="docs-heading-anchor-permalink" href="#Entangled" title="Permalink"></a></h2><p>If you plan to make a contribution to the core of CarboKitten, you should be aware of Entangled.</p><p>The documentation for CarboKitten is using <a href="https://entangled.github.io">Entangled</a> for Literate Programming. This means that code blocks in the documentation contribute to the actual functioning code in the library. When you develop the library code, you should have the Entangled daemon running to keep the documentation synchronized. Included in the <code>CarboKitten</code> repository is a <code>pyproject.toml</code> that manages the Entangled installation for you through <a href="https://python-poetry.org">Poetry</a>; alternatively, you may install Entangled through <code>pip install entangled-cli</code>.</p><p>To install, run <code>poetry install</code> in the project root, then:</p><pre><code class="language-shell hljs">poetry run entangled watch</code></pre><p>Entangled is still under development and it may occur that the daemon complains about not knowing wether to <code>tangle</code> or <code>stitch</code>, for example when you&#39;ve accidentally written both markdown and source code. If this happens you may manually <code>entangled tangle</code> or <code>entangled stitch</code> with the <code>--force</code> argument to decide the issue. It may be worth saving your work in version control before doing so.</p><h3 id="Building-Documentation"><a class="docs-heading-anchor" href="#Building-Documentation">Building Documentation</a><a id="Building-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Building-Documentation" title="Permalink"></a></h3><p>To recreate the plots in the documentation run</p><pre><code class="language-shell hljs">poetry run brei figures</code></pre><p>The documentation can be rendered with <code>Documenter.jl</code>.</p><pre><code class="language-shell hljs">julia --workenv=docs docs/make.jl</code></pre><h2 id="Project-structure"><a class="docs-heading-anchor" href="#Project-structure">Project structure</a><a id="Project-structure-1"></a><a class="docs-heading-anchor-permalink" href="#Project-structure" title="Permalink"></a></h2><pre><code class="nohighlight hljs">.
├── data                # data files
├── docs                # documentation
│   ├── make.jl         # docs build script
│   ├── Manifest.toml   # 
│   ├── Project.toml    # dependencies for building docs
│   └── src             # markdown source for docs
├── entangled.toml      # entangled config
├── examples            # example scripts
├── Makefile            # command-line short hands
├── Manifest.toml       #
├── Project.toml        # project dependencies
├── pyproject.toml      # dependencies for running Entangled
├── README.md           # 
├── src                 # tangled library source
└── test                # unit tests</code></pre><p>The figures from the documentation in &quot;docs/src/fig&quot; are git tracked, but are often regenerated when you change some of their direct dependencies. This makes switching branches harder, it would require issuing &quot;git stash&quot; first. We have now made sure that the regenerated figures appear in &quot;docs/src/_fig&quot; and are not git tracked. There is a task in pyproject.toml that takes care of copying from &quot;docs/src/_fig&quot; to &quot;docs/src/fig&quot; when this repo is cloned.</p><h2 id="Authors"><a class="docs-heading-anchor" href="#Authors">Authors</a><a id="Authors-1"></a><a class="docs-heading-anchor-permalink" href="#Authors" title="Permalink"></a></h2><p>Lead engineer: <strong>Johan Hidding</strong>   Netherlands eScience Center   email: j.hidding [at] esciencecenter.nl Web page: <a href="https://www.esciencecenter.nl/team/johan-hidding-msc/">www.esciencecenter.nl/team/johan-hidding-msc/</a>   ORCID: <a href="https://orcid.org/0000-0002-7550-1796">0000-0002-7550-1796</a></p><p>Original author: <strong>Peter Burgess</strong>   University of Liverpool   Web page: <a href="https://www.liverpool.ac.uk/environmental-sciences/staff/peter-burgess/">www.liverpool.ac.uk/environmental-sciences/staff/peter-burgess</a></p><p>Project lead: <strong>Emilia Jarochowska</strong>   Utrecht University   email: e.b.jarochowska [at] uu.nl   Web page: <a href="https://www.uu.nl/staff/EBJarochowska">www.uu.nl/staff/EBJarochowska</a>   ORCID: <a href="https://orcid.org/0000-0001-8937-9405">0000-0001-8937-9405</a></p><p><strong>Other team members:</strong></p><p><strong>Niklas Hohmann</strong>   Utrecht University   email: n.h.hohmann [at] uu.nl   Web page: <a href="https://www.uu.nl/staff/NHHohmann">www.uu.nl/staff/NHohmann</a>   ORCID: <a href="https://orcid.org/0000-0003-1559-1838">0000-0003-1559-1838</a></p><p><strong>Xianyi Liu</strong>   Utrecht University   email: x.liu6 [at] uu.nl   Web page: <a href="https://www.uu.nl/staff/XLiu6">www.uu.nl/staff/XLiu6</a>   ORCID:</p><p><strong>Hanno Spreeuw</strong>   Netherlands eScience Center   email: h.spreeuw [at] esciencecenter.nl   Web page: <a href="https://www.esciencecenter.nl/team/dr-hanno-spreeuw">www.esciencecenter.nl/team/dr-hanno-spreeuw/</a>   ORCID: <a href="https://orcid.org/0000-0002-5057-0322">0000-0002-5057-0322</a></p><p><strong>David De Vleeschouwer</strong>   Westfälische Wilhelms-Universität Münster   Web page: <a href="https://www.uni-muenster.de/GeoPalaeontologie/erdsystemforschung/staff/DeVleeschouwer.html">www.uni-muenster.de/GeoPalaeontologie/erdsystemforschung/staff/DeVleeschouwer</a>   ORCID: <a href="https://orcid.org/0000-0002-3323-807X">0000-0002-3323-807X</a></p><h2 id="Copyright"><a class="docs-heading-anchor" href="#Copyright">Copyright</a><a id="Copyright-1"></a><a class="docs-heading-anchor-permalink" href="#Copyright" title="Permalink"></a></h2><p>Copyright 2023 Netherlands eScience Center and Utrecht University</p><h2 id="License"><a class="docs-heading-anchor" href="#License">License</a><a id="License-1"></a><a class="docs-heading-anchor-permalink" href="#License" title="Permalink"></a></h2><p>Apache 2.0 License, see LICENSE file for license text.</p><h2 id="Funding-information"><a class="docs-heading-anchor" href="#Funding-information">Funding information</a><a id="Funding-information-1"></a><a class="docs-heading-anchor-permalink" href="#Funding-information" title="Permalink"></a></h2><p>Funded by the European Union (ERC, MindTheGap, StG project no 101041077). Views and opinions expressed are however those of the author(s) only and do not necessarily reflect those of the European Union or the European Research Council. Neither the European Union nor the granting authority can be held responsible for them.</p><h2 id="Contents"><a class="docs-heading-anchor" href="#Contents">Contents</a><a id="Contents-1"></a><a class="docs-heading-anchor-permalink" href="#Contents" title="Permalink"></a></h2><ul><li><a href="bosscher-1992/#Carbonate-Production">Carbonate Production</a></li><li class="no-marker"><ul><li><a href="bosscher-1992/#reproducing-Bosscher-and-Schlager-1992">reproducing Bosscher &amp; Schlager 1992</a></li><li><a href="bosscher-1992/#Parameters">Parameters</a></li><li><a href="bosscher-1992/#Growth-Rate">Growth Rate</a></li><li><a href="bosscher-1992/#Depth-Evolution">Depth Evolution</a></li><li><a href="bosscher-1992/#Crosssection">Crosssection</a></li></ul></li><li><a href="boxes/#Generic-Parameters">Generic Parameters</a></li><li class="no-marker"><ul><li><a href="boxes/#Box-topology">Box topology</a></li><li><a href="boxes/#Time-properties">Time properties</a></li><li><a href="boxes/#Vectors">Vectors</a></li><li><a href="boxes/#Offset-indexing">Offset indexing</a></li><li><a href="boxes/#Boxes">Boxes</a></li></ul></li><li><a href="bs92-w-erosion/#Bosscher-and-Schlager-model-with-erosion">Bosscher and Schlager model with erosion</a></li><li><a href="ca-with-production/#Combining-CA-with-production">Combining CA with production</a></li><li class="no-marker"><ul><li><a href="ca-with-production/#Complete-example">Complete example</a></li><li><a href="ca-with-production/#Input">Input</a></li><li><a href="ca-with-production/#Output">Output</a></li><li><a href="ca-with-production/#Logic">Logic</a></li><li><a href="ca-with-production/#Init">Init</a></li><li><a href="ca-with-production/#Propagator">Propagator</a></li><li><a href="ca-with-production/#Updater">Updater</a></li><li><a href="ca-with-production/#Loop">Loop</a></li><li><a href="ca-with-production/#Case-1">Case 1</a></li><li><a href="ca-with-production/#Case-2">Case 2</a></li><li><a href="ca-with-production/#Visualizing-output">Visualizing output</a></li><li><a href="carbocat-ca/#Cellular-Automaton">Cellular Automaton</a></li><li><a href="carbocat-ca/#How-to-run">How to run</a></li><li><a href="carbocat-ca/#Statuful-API">Statuful API</a></li><li><a href="carbocat-transport/#Transport">Transport</a></li></ul></li><li><a href="carbocat/#About">About</a></li><li><a href="carbocat/#Overview">Overview</a></li><li class="no-marker"><ul><li><a href="carbocat/#Carbonate-production">Carbonate production</a></li><li><a href="carbocat/#Species-habitation">Species habitation</a></li><li><a href="carbocat/#Combination">Combination</a></li><li><a href="carbocat/#Subsidence">Subsidence</a></li><li><a href="carbocat/#Steps">Steps</a></li></ul></li><li><a href="carbocat/#References">References</a></li><li><a href="#CarboKitten.jl:-Modeling-Carbonate-Platforms-in-Julia">CarboKitten.jl: Modeling Carbonate Platforms in Julia</a></li><li class="no-marker"><ul><li><a href="#About">About</a></li><li><a href="#Julia-Quickstarter">Julia Quickstarter</a></li><li><a href="#Entangled">Entangled</a></li><li><a href="#Project-structure">Project structure</a></li><li><a href="#Authors">Authors</a></li><li><a href="#Copyright">Copyright</a></li><li><a href="#License">License</a></li><li><a href="#Funding-information">Funding information</a></li><li><a href="#Contents">Contents</a></li><li><a href="references/#title:-References">title: References</a></li></ul></li><li><a href="sediment-buffer/#Sediment-Buffers">Sediment Buffers</a></li><li><a href="stencils/#Stencil-operations">Stencil operations</a></li><li class="no-marker"><ul><li><a href="stencils/#Implementation">Implementation</a></li><li><a href="stencils/#Examples">Examples</a></li></ul></li><li><a href="unitful/#Unitful">Unitful</a></li><li class="no-marker"><ul><li><a href="unitful/#Variables-vs.-string-macros">Variables vs. string macros</a></li><li><a href="unitful/#Reading-specs">Reading specs</a></li><li><a href="unitful/#Dimensions">Dimensions</a></li><li><a href="unitful/#Negating-Units">Negating Units</a></li></ul></li><li><a href="utility/#Utility-functions">Utility functions</a></li><li class="no-marker"><ul><li><a href="utility/#Select-Iterator">Select Iterator</a></li></ul></li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="bosscher-1992/">Bosscher and Schlager 1992 »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.0 on <span class="colophon-date" title="Monday 8 July 2024 08:48">Monday 8 July 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
